---
title: MutationObserver - ç›‘å¬ DOM å˜åŒ–çš„åˆ©å™¨
date: 2021-09-15
tags:
  - js
---

MutationObserver æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ Web APIï¼Œå®ƒå…è®¸æˆ‘ä»¬ç›‘å¬ DOM æ ‘çš„å˜åŒ–ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹çš„æ·»åŠ ã€åˆ é™¤ã€å±æ€§çš„ä¿®æ”¹ç­‰ã€‚

```js
const observer = new MutationObserver((mutationsList) => {
  console.log(mutationsList)
})

observer.observer(document.body, {
  // attributes: true, // ç›®æ ‡å±æ€§çš„å˜åŒ– å¦‚: id class
  // characterData: true, // ç›®æ ‡æ•°æ®çš„å˜åŒ– æ”¹å˜å‰çš„å€¼
  // childList: true, // å€¼è§‚å¯Ÿç›®æ ‡å­èŠ‚ç‚¹çš„å˜åŒ–ï¼Œä¸åŒ…å«å­èŠ‚ç‚¹åä»£çš„å…ƒç´ 
  // subtree: true, // ç›®æ ‡åŠå…¶åä»£å…ƒç´ éƒ½ä¼šè§‚å¯Ÿ
  // attributeOldValue: true, // éœ€è¦è®°å½•æ”¹å˜å‰çš„ç›®æ ‡å±æ€§å€¼
})
```

<!-- ### ä¸»è¦ç‰¹ç‚¹ âœ¨

- å¼‚æ­¥æ‰§è¡Œï¼Œæ€§èƒ½æ›´å¥½
- æ‰¹é‡å¤„ç† DOM å˜åŒ–
- å¯ä»¥ç›‘å¬å¤šç§ DOM å˜åŒ–ç±»å‹
- æ”¯æŒå­æ ‘è§‚å¯Ÿ

### ä½¿ç”¨åœºæ™¯ ğŸ¯

- ç¼–è¾‘å™¨å®æ—¶é¢„è§ˆ
- è¡¨å•è‡ªåŠ¨ä¿å­˜
- åŠ¨æ€å†…å®¹åŠ è½½ç›‘æ§
- ç¬¬ä¸‰æ–¹å†…å®¹æ³¨å…¥æ£€æµ‹

è¿™ä¸ªå¼ºå¤§çš„è§‚å¯Ÿè€…æ¨¡å¼è®©æˆ‘ä»¬èƒ½å¤Ÿæ›´ä¼˜é›…åœ°å¤„ç† DOM å˜åŒ–ï¼Œæ˜¯ç°ä»£ Web å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚ -->
