## 是如何去封装的 兼容各平台表单的同步与状态保存的公共模块

> **问题原因**
>
我们那个项目内涉及到了很多的表单要用户填写，由于涉及到的表单项比较多，填写时间比较长再加上还有多标签页窗口的操作
所以就遇到了一些问题

1. 数据丢失
2. 数据恢复
3. 跨标签页通信
4. 冗余数据问题

通过将这些问题梳理后其实就是两个关键问题

1. 数据的自动保存与恢复
2. 多标签页通信

**我考虑的是将这个功能作为一个公共模块,不受库的限制 所以在设计的时候给设置成了 类 的结构**
并不使用特定的 API 保证不论在哪个库或者框架中都是适用的

## 实现过程

在设计的时候 我整理出来两个模块 `FormStorage` `FormStorageManage`

`FormStorage`主要负责

1. 数据本地存储、恢复、删除
2. 多标签的数据广播

`FormStorageManage` 这个类专门管理 `FormStorage`，主要是为了

1. 通过 FormStorageManage 这个类来集中管理所有 FormStorage 实例
2. 避免在每一个 StorageManage 实例中重复绑定全局事件监听, 也算是一个性能上的优化吧